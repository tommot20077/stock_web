<!DOCTYPE html>
<html lang="zh-Hant">

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>綜合資產管理 - 伺服器管理 </title>
	<!-- plugins:css -->
	<link rel="stylesheet" href=/static/vendors/feather/feather.css>
	<link rel="stylesheet" href=/static/vendors/mdi/css/materialdesignicons.min.css>
	<link rel="stylesheet" href=/static/vendors/ti-icons/css/themify-icons.css>
	<link rel="stylesheet" href=/static/vendors/typicons/typicons.css>
	<link rel="stylesheet" href=/static/vendors/simple-line-icons/css/simple-line-icons.css>
	<link rel="stylesheet" href=/static/vendors/css/vendor.bundle.base.css>
	<!-- endinject -->
	<script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
	<!-- Plugin css for this page -->
	<link rel="stylesheet" href=/static/vendors/select2/select2.min.css>
	<link rel="stylesheet" href=/static/vendors/select2-bootstrap-theme/select2-bootstrap.min.css>
	<!-- End plugin css for this page -->
	<!-- inject:css -->
	<link rel="stylesheet" href=/static/css/vertical-layout-light/style.css>
	<link rel="stylesheet" href=/static/common.css>
	<link rel="stylesheet" href="/static/loading.css">
	<!-- endinject -->
	<link rel="shortcut icon" href=/static/favicon.ico/>
	<script src="/static/js/myJavaScript/map.js"></script>
	<script src="/static/js/myJavaScript/fetch.js"></script>
	<script src="/static/js/myJavaScript/display.js"></script>

	<meta name="_csrf" th:content="${_csrf.token}"/>
	<meta name="_csrf_header" th:content="${_csrf.headerName}"/>

</head>

<body>
<div class="container-scroller">
	<!-- partial:partials/_navbar.html -->
	<nav class="navbar default-layout col-lg-12 col-12 p-0 fixed-top d-flex align-items-top flex-row">
		<div class="text-center navbar-brand-wrapper d-flex align-items-center justify-content-start">
			<div class="me-3">
				<button class="navbar-toggler navbar-toggler align-self-center" type="button" data-bs-toggle="minimize">
					<span class="icon-menu"></span>
				</button>
			</div>
			<div>
				<a class="navbar-brand brand-logo" href=/index>
					<img src="/static/images/logo.svg" alt="logo"/>
				</a>
				<a class="navbar-brand brand-logo-mini" href=/index>
					<img src="/static/images/logo-mini.svg" alt="logo"/>
				</a>
			</div>
		</div>
		<div class="navbar-menu-wrapper d-flex align-items-top">
			<ul class="navbar-nav">
				<li class="nav-item font-weight-semibold d-none d-lg-block ms-0">
					<h1 class="welcome-text">歡迎回來， <span class="text-black fw-bold">用戶</span><a
							class="welcome-text"
							href=/profile></a></h1>
				</li>
			</ul>
			<ul class="navbar-nav ms-auto">
				<li class="nav-item">
					<form class="search-form" action="#">
						<i class="icon-search"></i>
						<input id="searchInput" type="search" class="form-control" placeholder="開始搜索" title="開始搜索">
						<div id="searchResults" class="search-results"></div>
					</form>
				</li>
				<li class="nav-item dropdown d-none d-lg-block user-dropdown">
					<i class="icon-menu icon-sm" id="UserDropdown" href=/# data-bs-toggle="dropdown"
							aria-expanded="false"> </i>
					<div class="dropdown-menu dropdown-menu-right navbar-dropdown" aria-labelledby="UserDropdown">
						<div class="dropdown-header text-center">
							<p class="mb-1 mt-3 font-weight-semibold" id="tabName">用戶名稱</p>
							<p class="fw-light text-muted mb-0" id="tabEmail">用戶信箱</p>
						</div>
						<a class="dropdown-item" href=/profile><i
								class="dropdown-item-icon mdi mdi-account-outline text-primary me-2"></i> 用戶資料 <span
								class="badge badge-pill badge-danger"></span></a>
						<a class="dropdown-item" href=https://blog.900303.xyz><i
								class="dropdown-item-icon mdi mdi-blogger text-primary me-2"></i> 更新狀況</a>
						<a class="dropdown-item" href=/logout><i
								class="dropdown-item-icon mdi mdi-power text-primary me-2"></i>登出</a>
					</div>
				</li>
			</ul>
			<button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button"
					data-bs-toggle="offcanvas">
				<span class="mdi mdi-menu"></span>
			</button>
		</div>
	</nav>
	<!-- partial -->
	<div class="container-fluid page-body-wrapper">
		<!-- partial:partials/_settings-panel.html -->
		<div class="theme-setting-wrapper">
			<div id="settings-trigger"><i class="ti-settings"></i></div>
			<div id="theme-settings" class="settings-panel">
				<i class="settings-close ti-close"></i>
				<p class="settings-heading">側邊欄位顏色</p>
				<div class="sidebar-bg-options selected" id="sidebar-light-theme">
					<div class="img-ss rounded-circle bg-light border me-3"></div>
					Light
				</div>
				<div class="sidebar-bg-options" id="sidebar-dark-theme">
					<div class="img-ss rounded-circle bg-dark border me-3"></div>
					Dark
				</div>
				<p class="settings-heading mt-2">頭部欄位顏色</p>
				<div class="color-tiles mx-0 px-4">
					<div class="tiles success"></div>
					<div class="tiles warning"></div>
					<div class="tiles danger"></div>
					<div class="tiles info"></div>
					<div class="tiles dark"></div>
					<div class="tiles default"></div>
				</div>
			</div>
		</div>
		<!-- partial:partials/_sidebar.html -->
		<nav class="sidebar sidebar-offcanvas" id="sidebar">
			<ul class="nav">
				<li class="nav-item">
					<a class="nav-link" href=/index>
						<i class="mdi mdi-grid-large menu-icon"></i>
						<span class="menu-title">總覽</span>
					</a>
				</li>
				<li class="nav-item nav-category">經濟概況</li>
				<li class="nav-item">
					<a class="nav-link" data-bs-toggle="collapse" href=/#stock aria-expanded="false"
							aria-controls="auth">
						<i class="menu-icon mdi mdi-bank"></i>
						<span class="menu-title">股市</span>
						<i class="menu-arrow"></i>
					</a>
					<div class="collapse" id="stock">
						<ul class="nav flex-column sub-menu">
							<li class="nav-item"><a class="nav-link" href=/info/stock_tw> 台股概況 </a></li>
							<li class="nav-item"><a class="nav-link" href=/news/stock_tw> 台股新聞 </a></li>
						</ul>
					</div>
				</li>
				<li class="nav-item">
					<a class="nav-link" data-bs-toggle="collapse" href=/#currency aria-expanded="false"
							aria-controls="auth">
						<i class="menu-icon mdi mdi-currency-usd"></i>
						<span class="menu-title">各國貨幣</span>
						<i class="menu-arrow"></i>
					</a>
					<div class="collapse" id="currency">
						<ul class="nav flex-column sub-menu">
							<li class="nav-item"><a class="nav-link" href=/info/currency> 貨幣資訊 </a></li>
							<li class="nav-item"><a class="nav-link" href=/news/currency> 貨幣新聞 </a></li>
						</ul>
					</div>
				</li>
				<li class="nav-item">
					<a class="nav-link" data-bs-toggle="collapse" href=/#crypto aria-expanded="false"
							aria-controls="auth">
						<i class="menu-icon mdi mdi-currency-btc"></i>
						<span class="menu-title">虛擬貨幣</span>
						<i class="menu-arrow"></i>
					</a>
					<div class="collapse" id="crypto">
						<ul class="nav flex-column sub-menu">
							<li class="nav-item"><a class="nav-link" href=/info/crypto> 幣圈資訊 </a></li>
							<li class="nav-item"><a class="nav-link" href=/news/crypto> 幣圈新聞 </a></li>
						</ul>
					</div>
				</li>
				<li class="nav-item">
					<a class="nav-link" data-bs-toggle="collapse" href=/#governmentDebt aria-expanded="false"
							aria-controls="auth">
						<i class="menu-icon mdi mdi-nutrition"></i>
						<span class="menu-title">公債</span>
						<i class="menu-arrow"></i>
					</a>
					<div class="collapse" id="governmentDebt">
						<ul class="nav flex-column sub-menu">
							<li class="nav-item"><a class="nav-link" href=/debt_info> 公債概況 </a></li>
							<li class="nav-item"><a class="nav-link" href=/news/debt> 公債新聞 </a></li>
						</ul>
					</div>
				</li>
				<li class="nav-item nav-category">資產</li>
				<li class="nav-item">
					<a class="nav-link" data-bs-toggle="collapse" href=/#property aria-expanded="false"
							aria-controls="auth">
						<i class="menu-icon mdi mdi-bank"></i>
						<span class="menu-title">資產</span>
						<i class="menu-arrow"></i>
					</a>
					<div class="collapse" id="property">
						<ul class="nav flex-column sub-menu">
							<li class="nav-item"><a class="nav-link" href=/property_info> 資產總覽 </a></li>
							<li class="nav-item"><a class="nav-link" href=/transaction_info> 交易總覽 </a></li>
						</ul>
					</div>
				</li>


				<li class="nav-item nav-category">用戶</li>
				<li class="nav-item">
					<a class="nav-link" data-bs-toggle="collapse" href=/#auth aria-expanded="false"
							aria-controls="auth">
						<i class="menu-icon mdi mdi-account-circle-outline"></i>
						<span class="menu-title">用戶功能</span>
						<i class="menu-arrow"></i>
					</a>
					<div class="collapse" id="auth">
						<ul class="nav flex-column sub-menu">
							<li class="nav-item"><a class="nav-link" href=/profile> 用戶資料 </a></li>
							<li class="nav-item"><a class="nav-link" href=/user_subscribe> 用戶訂閱 </a></li>
							<li class="nav-item"><a class="nav-link" href=/logout> 登出 </a></li>
						</ul>
					</div>
				</li>
				<li class="nav-item nav-category" style="display: none" id="adminTab">管理員</li>
				<li class="nav-item" style="display: none" id="adminConfig">
					<a class="nav-link" data-bs-toggle="collapse" href=/#admin aria-expanded="false"
							aria-controls="auth">
						<i class="menu-icon mdi mdi-crown"></i>
						<span class="menu-title">管理員</span>
						<i class="menu-arrow"></i>
					</a>
					<div class="collapse" id="admin">
						<ul class="nav flex-column sub-menu">
							<li class="nav-item"><a class="nav-link" href=/admin/serverManage> 管理伺服器 </a></li>
						</ul>
					</div>
				</li>
				<li class="nav-item nav-category">其他</li>
				<li class="nav-item">
					<a class="nav-link" data-bs-toggle="collapse" href=/#other-apps aria-expanded="false"
					   aria-controls="auth">
						<i class="menu-icon mdi mdi-apps"></i>
						<span class="menu-title">其他應用</span>
						<i class="menu-arrow"></i>
					</a>
					<div class="collapse" id="other-apps">
						<ul class="nav flex-column sub-menu">
							<li class="nav-item"><a class="nav-link" href=https://900303.xyz/> 部落格 </a></li>
						</ul>
						<ul class="nav flex-column sub-menu">
							<li class="nav-item"><a class="nav-link" href=https://file.900303.xyz/> 檔案管理 </a></li>
						</ul>
						<ul class="nav flex-column sub-menu">
							<li class="nav-item"><a class="nav-link" href=https://audio.900303.xyz/> 音檔轉錄 </a></li>
						</ul>
					</div>
				</li>
			</ul>
		</nav>
		<!-- partial -->
		<div class="main-panel">
			<div class="content-wrapper">
				<div class="row">
					<div class="col-12 grid-margin stretch-card" style="max-width: 1500px">
						<div class="card">
							<ul class="nav nav-tabs">
								<li class="nav-item">
									<a class="nav-link active" id="viewServerStatus" data-toggle="tab"
											href="#serverStatus">伺服器操作</a>
								</li>
							</ul>
							<div class="tab-content">
								<div class="tab-pane fade show active" id="serverStatus">
									<div class="table-responsive pt-3">
										<table class="table table-bordered">
											<thead>
											<tr>
												<th style="text-align: center">
													指令名稱
												</th>
												<th style="text-align: center">
													參數說明
												</th>
												<th style="text-align: center">
													補充參數
												</th>
												<th style="text-align: center">
													操作
												</th>
											</tr>
											</thead>
											<tbody id="commandListTableBody">

											</tbody>
										</table>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- content-wrapper ends -->
				<!-- partial:../../partials/_footer.html -->
				<footer class="footer">
					<div class="d-sm-flex justify-content-center justify-content-sm-between">
					<span class="text-muted text-center text-sm-left d-block d-sm-inline-block">Premium <a
							href="https://www.bootstrapdash.com/" target="_blank">Bootstrap admin template</a> from BootstrapDash.</span>
						<span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center">Copyright © 2021. All rights reserved.</span>
					</div>
				</footer>
				<!-- partial -->
			</div>
			<!-- main-panel ends -->
		</div>
		<!-- page-body-wrapper ends -->
	</div>

	<div id="loading-spinner" class="loading-spinner-container">
		<div id="lds-ring" class="lds-ring">
			<div></div>
			<div></div>
			<div></div>
			<div></div>
		</div>

		<div class="col-md-6 grid-margin stretch-card" id="confirmCard">
			<div class="card">
				<div class="card-body" style="display: flex; flex-direction: column">
					<h4 class="card-title">執行狀態</h4>
					<p class="card-description" id="responseMessage"></p>
					<div id="current-loader" class="bar-loader"></div>
					<div style="margin-top: auto;display: flex;justify-content: flex-end">
						<a id="close" class="btn btn-secondary">關閉</a>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- container-scroller -->
<!-- plugins:js -->
<script src="/static/vendors/js/vendor.bundle.base.js"></script>
<!-- endinject -->
<!-- Plugin js for this page -->
<script src="/static/vendors/typeahead.js/typeahead.bundle.min.js"></script>
<script src="/static/vendors/select2/select2.min.js"></script>
<script src="/static/vendors/bootstrap-datepicker/bootstrap-datepicker.min.js"></script>
<!-- End plugin js for this page -->
<!-- inject:js -->
<script src="/static/js/off-canvas.js"></script>
<script src="/static/js/hoverable-collapse.js"></script>
<script src="/static/js/template.js"></script>
<script src="/static/js/settings.js"></script>
<script src="/static/js/todolist.js"></script>
<!-- endinject -->
<!-- Custom js for this page-->
<script src="/static/js/file-upload.js"></script>
<script src="/static/js/myJavaScript/common.js"></script>
<script src="/static/js/typeahead.js"></script>
<script src="/static/js/select2.js"></script>
<script src="/static/js/myJavaScript/serverConfig.js"></script>

<!-- End custom js for this page-->

<script>
	let csrfHeader = document.querySelector('meta[name="_csrf_header"]').getAttribute('content');
	let csrfToken = document.querySelector('meta[name="_csrf"]').getAttribute('content');
	document.addEventListener('DOMContentLoaded', function () {
		getUserDetails();
	});
	generateAdminCommandTable("commandListTableBody", "紀錄用戶ROI資料", "無", "/api/admin/common/updateRoiData", "POST", csrfToken);
	generateAdminCommandTable("commandListTableBody", "紀錄用戶資產概況資料", "無", "/api/admin/common/updatePropertySummaryData", "POST", csrfToken);
	generateAdminCommandTable("commandListTableBody", "紀錄用戶現金流資料", "無", "/api/admin/common/updateCashFlowData", "POST", csrfToken);
	generateAdminCommandTable("commandListTableBody", "更新商業新聞資料", "無", "/api/admin/common/updateHeadlineNewsData", "POST", csrfToken);
	generateAdminCommandTable("commandListTableBody", "更新指定資產新聞資料", "keyword: 關鍵字，預設: \"\"，必填: false <br>" +
			"asset: 資產ID，預設: 無，必填: false <br>" +
			"優先度: 資產ID &gt; 關鍵字", "/api/admin/common/updateAssetNewsData", "POST", csrfToken);
	generateAdminCommandTable("commandListTableBody", "更新所有類型新聞資料", "無", "/api/admin/common/updateNewsData", "POST", csrfToken);
	generateAdminCommandTable("commandListTableBody", "清理過期新聞", "無", "/api/admin/common/removeExpiredNews", "POST", csrfToken);
	generateAdminCommandTable("commandListTableBody", "清理過期憑證", "無", "/api/admin/common/cleanExpiredTokens", "POST", csrfToken);
	generateAdminCommandTable("commandListTableBody", "確認訂閱資產歷史資料完整性", "無", "/api/admin/common/checkHistoryData", "POST", csrfToken);
	generateAdminCommandTable("commandListTableBody", "Redis緩存資產列表", "無", "/api/admin/common/updateAssetListCache", "POST", csrfToken);
	generateAdminCommandTable("commandListTableBody", "更新用戶回報率相關數據資料", "無", "/api/admin/common/updateRoiStatistics", "POST", csrfToken);
	generateAdminCommandTable("commandListTableBody", "更新公債的利率資料", "無", "/api/admin/common/updateGovernmentBondData", "POST", csrfToken);

	generateAdminCommandTable("commandListTableBody", "更新虛擬貨幣清單", "無", "/api/admin/crypto/updateCryptoList", "POST", csrfToken);
	generateAdminCommandTable("commandListTableBody", "取得虛擬貨幣列表", "無", "/api/admin/crypto/getTradingPairsDetail", "GET", csrfToken);
	generateAdminCommandTable("commandListTableBody", "啟動虛擬貨幣即時價格連線", "無", "/api/admin/crypto/ws/start", "POST", csrfToken);
	generateAdminCommandTable("commandListTableBody", "停止虛擬貨幣即時價格連線", "無", "/api/admin/crypto/ws/stop", "POST", csrfToken);
	generateAdminCommandTable("commandListTableBody", "重啟虛擬貨幣即時價格連線", "無", "/api/admin/crypto/ws/restart", "POST", csrfToken);
	generateAdminCommandTable("commandListTableBody", "確認虛擬貨幣即時價格連線", "無", "/api/user/crypto/ws/status", "GET", csrfToken);
	generateAdminCommandTable("commandListTableBody", "更新虛擬貨幣歷史價格資料", "tradingPair: 交易對，必填: true", "/api/admin/crypto/trackCryptoHistoryData", "POST", csrfToken);
	generateAdminCommandTable("commandListTableBody", "更新虛擬貨幣每日歷史價格資料", "無", "/api/admin/crypto/trackCryptoDailyData", "POST", csrfToken);
	generateAdminCommandTable("commandListTableBody", "更新虛擬貨幣歷史價格取得進度", "無", "/api/admin/crypto/getAllTaskProgress", "GET", csrfToken);
	generateAdminCommandTable("commandListTableBody", "確認虛擬貨幣即時價格連線狀態", "無", "/api/admin/crypto/checkAndReconnectWebSocket", "POST", csrfToken);

	generateAdminCommandTable("commandListTableBody", "更新台灣股票清單", "無", "/api/admin/stock/tw/updateStockList", "POST", csrfToken);
	generateAdminCommandTable("commandListTableBody", "更新台灣股票5秒搓合交易價格", "無", "/api/admin/stock/tw/updateStockDetail", "POST", csrfToken);
	generateAdminCommandTable("commandListTableBody", "更新台灣股票歷史價格資料", "stockCode: 股票代碼，必填: true", "/api/admin/stock/tw/trackStockHistoryData", "POST", csrfToken);
	generateAdminCommandTable("commandListTableBody", "更新台灣股票每日歷史價格資料", "無", "/api/admin/stock/tw/trackStockDailyData", "POST", csrfToken);
	generateAdminCommandTable("commandListTableBody", "開啟台灣股票即時價格功能", "無", "/api/admin/stock/tw/trackImmediatePrice", "POST", csrfToken);
	generateAdminCommandTable("commandListTableBody", "關閉台灣股票即時價格功能", "無", "/api/admin/stock/tw/unTrackImmediatePrice", "POST", csrfToken);
	generateAdminCommandTable("commandListTableBody", "更新貨幣清單", "無", "/api/admin/currency/updateCurrencyData", "POST", csrfToken);
	searchFunction();
</script>


</body>

</html>

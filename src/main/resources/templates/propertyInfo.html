<!DOCTYPE html>
<html lang="zh-Hant">

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>綜合資產管理 - 用戶財產統計 </title>
	<!-- plugins:css -->
	<link rel="stylesheet" href=/static/vendors/feather/feather.css>
	<link rel="stylesheet" href=/static/vendors/mdi/css/materialdesignicons.min.css>
	<link rel="stylesheet" href=/static/vendors/ti-icons/css/themify-icons.css>
	<link rel="stylesheet" href=/static/vendors/typicons/typicons.css>
	<link rel="stylesheet" href=/static/vendors/simple-line-icons/css/simple-line-icons.css>
	<link rel="stylesheet" href=/static/vendors/css/vendor.bundle.base.css>
	<!-- endinject -->
	<script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
	<!-- Plugin css for this page -->
	<link rel="stylesheet" href=/static/vendors/select2/select2.min.css>
	<link rel="stylesheet" href=/static/vendors/select2-bootstrap-theme/select2-bootstrap.min.css>
	<!-- End plugin css for this page -->
	<!-- inject:css -->
	<link rel="stylesheet" href=/static/css/vertical-layout-light/style.css>
	<link rel="stylesheet" href=/static/common.css>
	<link rel="stylesheet" href="/static/loading.css">
	<!-- endinject -->
	<link rel="shortcut icon" href=/static/favicon.ico/>
	<script src="/static/js/myJavaScript/common.js"></script>
	<script src="/static/js/myJavaScript/map.js"></script>
	<script src="/static/js/myJavaScript/fetch.js"></script>
	<script src="/static/js/myJavaScript/display.js"></script>

	<meta name="_csrf" th:content="${_csrf.token}"/>
	<meta name="_csrf_header" th:content="${_csrf.headerName}"/>

</head>

<body>
<div class="container-scroller">
	<!-- partial:partials/_navbar.html -->
	<nav class="navbar default-layout col-lg-12 col-12 p-0 fixed-top d-flex align-items-top flex-row">
		<div class="text-center navbar-brand-wrapper d-flex align-items-center justify-content-start">
			<div class="me-3">
				<button class="navbar-toggler navbar-toggler align-self-center" type="button" data-bs-toggle="minimize">
					<span class="icon-menu"></span>
				</button>
			</div>
			<div>
				<a class="navbar-brand brand-logo" href=/index>
					<img src="/static/images/logo.svg" alt="logo"/>
				</a>
				<a class="navbar-brand brand-logo-mini" href=/index>
					<img src="/static/images/logo-mini.svg" alt="logo"/>
				</a>
			</div>
		</div>
		<div class="navbar-menu-wrapper d-flex align-items-top">
			<ul class="navbar-nav">
				<li class="nav-item font-weight-semibold d-none d-lg-block ms-0">
					<h1 class="welcome-text">歡迎回來， <span class="text-black fw-bold">用戶</span><a
							class="welcome-text"
							href=/profile></a></h1>
				</li>
			</ul>
			<ul class="navbar-nav ms-auto">
				<li class="nav-item">
					<form class="search-form" action="#">
						<i class="icon-search"></i>
						<input id="searchInput" type="search" class="form-control" placeholder="開始搜索" title="開始搜索">
						<div id="searchResults" class="search-results"></div>
					</form>
				</li>
				<li class="nav-item dropdown d-none d-lg-block user-dropdown">
					<i class="icon-menu icon-sm" id="UserDropdown" href=/# data-bs-toggle="dropdown"
							aria-expanded="false"> </i>
					<div class="dropdown-menu dropdown-menu-right navbar-dropdown" aria-labelledby="UserDropdown">
						<div class="dropdown-header text-center">
							<p class="mb-1 mt-3 font-weight-semibold" id="tabName">用戶名稱</p>
							<p class="fw-light text-muted mb-0" id="tabEmail">用戶信箱</p>
						</div>
						<a class="dropdown-item" href=/profile><i
								class="dropdown-item-icon mdi mdi-account-outline text-primary me-2"></i> 用戶資料 <span
								class="badge badge-pill badge-danger"></span></a>
						<a class="dropdown-item" href=https://blog.900303.xyz><i
								class="dropdown-item-icon mdi mdi-blogger text-primary me-2"></i> 更新狀況</a>
						<a class="dropdown-item" href=/logout><i
								class="dropdown-item-icon mdi mdi-power text-primary me-2"></i>登出</a>
					</div>
				</li>
			</ul>
			<button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button"
					data-bs-toggle="offcanvas">
				<span class="mdi mdi-menu"></span>
			</button>
		</div>
	</nav>
	<!-- partial -->
	<div class="container-fluid page-body-wrapper">
		<!-- partial:partials/_settings-panel.html -->
		<div class="theme-setting-wrapper">
			<div id="settings-trigger"><i class="ti-settings"></i></div>
			<div id="theme-settings" class="settings-panel">
				<i class="settings-close ti-close"></i>
				<p class="settings-heading">側邊欄位顏色</p>
				<div class="sidebar-bg-options selected" id="sidebar-light-theme">
					<div class="img-ss rounded-circle bg-light border me-3"></div>
					Light
				</div>
				<div class="sidebar-bg-options" id="sidebar-dark-theme">
					<div class="img-ss rounded-circle bg-dark border me-3"></div>
					Dark
				</div>
				<p class="settings-heading mt-2">頭部欄位顏色</p>
				<div class="color-tiles mx-0 px-4">
					<div class="tiles success"></div>
					<div class="tiles warning"></div>
					<div class="tiles danger"></div>
					<div class="tiles info"></div>
					<div class="tiles dark"></div>
					<div class="tiles default"></div>
				</div>
			</div>
		</div>
		<!-- partial:partials/_sidebar.html -->
		<nav class="sidebar sidebar-offcanvas" id="sidebar">
			<ul class="nav">
				<li class="nav-item">
					<a class="nav-link" href=/index>
						<i class="mdi mdi-grid-large menu-icon"></i>
						<span class="menu-title">總覽</span>
					</a>
				</li>
				<li class="nav-item nav-category">經濟概況</li>
				<li class="nav-item">
					<a class="nav-link" data-bs-toggle="collapse" href=/#stock aria-expanded="false"
							aria-controls="auth">
						<i class="menu-icon mdi mdi-bank"></i>
						<span class="menu-title">股市</span>
						<i class="menu-arrow"></i>
					</a>
					<div class="collapse" id="stock">
						<ul class="nav flex-column sub-menu">
							<li class="nav-item"><a class="nav-link" href=/info/stock_tw> 台股概況 </a></li>
							<li class="nav-item"><a class="nav-link" href=/news/stock_tw> 台股新聞 </a></li>
						</ul>
					</div>
				</li>
				<li class="nav-item">
					<a class="nav-link" data-bs-toggle="collapse" href=/#currency aria-expanded="false"
							aria-controls="auth">
						<i class="menu-icon mdi mdi-currency-usd"></i>
						<span class="menu-title">各國貨幣</span>
						<i class="menu-arrow"></i>
					</a>
					<div class="collapse" id="currency">
						<ul class="nav flex-column sub-menu">
							<li class="nav-item"><a class="nav-link" href=/info/currency> 貨幣資訊 </a></li>
							<li class="nav-item"><a class="nav-link" href=/news/currency> 貨幣新聞 </a></li>
						</ul>
					</div>
				</li>
				<li class="nav-item">
					<a class="nav-link" data-bs-toggle="collapse" href=/#crypto aria-expanded="false"
							aria-controls="auth">
						<i class="menu-icon mdi mdi-currency-btc"></i>
						<span class="menu-title">虛擬貨幣</span>
						<i class="menu-arrow"></i>
					</a>
					<div class="collapse" id="crypto">
						<ul class="nav flex-column sub-menu">
							<li class="nav-item"><a class="nav-link" href=/info/crypto> 幣圈資訊 </a></li>
							<li class="nav-item"><a class="nav-link" href=/news/crypto> 幣圈新聞 </a></li>
						</ul>
					</div>
				</li>
				<li class="nav-item">
					<a class="nav-link" data-bs-toggle="collapse" href=/#governmentDebt aria-expanded="false"
							aria-controls="auth">
						<i class="menu-icon mdi mdi-nutrition"></i>
						<span class="menu-title">公債</span>
						<i class="menu-arrow"></i>
					</a>
					<div class="collapse" id="governmentDebt">
						<ul class="nav flex-column sub-menu">
							<li class="nav-item"><a class="nav-link" href=/debt_info> 公債概況 </a></li>
							<li class="nav-item"><a class="nav-link" href=/news/debt> 公債新聞 </a></li>
						</ul>
					</div>
				</li>
				<li class="nav-item nav-category">資產</li>
				<li class="nav-item">
					<a class="nav-link" data-bs-toggle="collapse" href=/#property aria-expanded="false"
							aria-controls="auth">
						<i class="menu-icon mdi mdi-bank"></i>
						<span class="menu-title">資產</span>
						<i class="menu-arrow"></i>
					</a>
					<div class="collapse" id="property">
						<ul class="nav flex-column sub-menu">
							<li class="nav-item"><a class="nav-link" href=/property_info> 資產總覽 </a></li>
							<li class="nav-item"><a class="nav-link" href=/transaction_info> 交易總覽 </a></li>
						</ul>
					</div>
				</li>


				<li class="nav-item nav-category">用戶</li>
				<li class="nav-item">
					<a class="nav-link" data-bs-toggle="collapse" href=/#auth aria-expanded="false"
							aria-controls="auth">
						<i class="menu-icon mdi mdi-account-circle-outline"></i>
						<span class="menu-title">用戶功能</span>
						<i class="menu-arrow"></i>
					</a>
					<div class="collapse" id="auth">
						<ul class="nav flex-column sub-menu">
							<li class="nav-item"><a class="nav-link" href=/profile> 用戶資料 </a></li>
							<li class="nav-item"><a class="nav-link" href=/user_subscribe> 用戶訂閱 </a></li>
							<li class="nav-item"><a class="nav-link" href=/logout> 登出 </a></li>
						</ul>
					</div>
				</li>
				<li class="nav-item nav-category" style="display: none" id="adminTab">管理員</li>
				<li class="nav-item" style="display: none" id="adminConfig">
					<a class="nav-link" data-bs-toggle="collapse" href=/#admin aria-expanded="false"
							aria-controls="auth">
						<i class="menu-icon mdi mdi-crown"></i>
						<span class="menu-title">管理員</span>
						<i class="menu-arrow"></i>
					</a>
					<div class="collapse" id="admin">
						<ul class="nav flex-column sub-menu">
							<li class="nav-item"><a class="nav-link" href=/admin/serverManage> 管理伺服器 </a></li>
						</ul>
					</div>
				</li>
				<li class="nav-item nav-category">其他</li>
				<li class="nav-item">
					<a class="nav-link" data-bs-toggle="collapse" href=/#other-apps aria-expanded="false"
					   aria-controls="auth">
						<i class="menu-icon mdi mdi-apps"></i>
						<span class="menu-title">其他應用</span>
						<i class="menu-arrow"></i>
					</a>
					<div class="collapse" id="other-apps">
						<ul class="nav flex-column sub-menu">
							<li class="nav-item"><a class="nav-link" href=https://900303.xyz/> 部落格 </a></li>
						</ul>
						<ul class="nav flex-column sub-menu">
							<li class="nav-item"><a class="nav-link" href=https://file.900303.xyz/> 檔案管理 </a></li>
						</ul>
						<ul class="nav flex-column sub-menu">
							<li class="nav-item"><a class="nav-link" href=https://audio.900303.xyz/> 音檔轉錄 </a></li>
						</ul>
					</div>
				</li>
			</ul>
		</nav>
		<!-- partial -->
		<div class="main-panel">
			<div class="content-wrapper">
				<div class="row">
					<div class="col-12 grid-margin stretch-card" style="max-width: 1500px">
						<div class="card">
							<ul class="nav nav-tabs">
								<li class="nav-item">
									<a class="nav-link active" id="view_property" data-toggle="tab"
											href="#userPropertyList">檢視資產</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" id="add_property" data-toggle="tab"
											href="#add_property_tab">新增資產</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" id="edit_property" data-toggle="tab"
											href="#edit_property_tab">修改資產</a>
								</li>
							</ul>

							<div class="tab-content">
								<div class="tab-pane fade show active" id="userPropertyList">
									<div class="table-responsive pt-3">
										<table class="table table-bordered">
											<thead>
											<tr>
												<th style="text-align: center">
													用戶資產ID
												</th>
												<th style="text-align: center">
													資產類型
												</th>
												<th style="text-align: center">
													資產名稱
												</th>
												<th style="text-align: center">
													持有量
												</th>
												<th style="text-align: center">
													目前單價
												</th>
												<th style="text-align: center">
													目前總價
												</th>
												<th style="text-align: center">
													備註
												</th>
												<th style="text-align: center">
													操作
												</th>
											</tr>
											</thead>
											<tbody id="propertyTableBody"></tbody>
										</table>
									</div>
								</div>


								<div class="tab-pane fade" id="edit_property_tab">
									<form class="forms-sample" id="edit_property_form">
										<div class="form-group row">
											<label for="edit_property_id"
													class="col-sm-3 col-form-label">用戶資產ID</label>
											<div class="col-sm-9">
												<input type="text" class="form-control" id="edit_property_id"
														placeholder="ID" name="edit_property_id" readonly>
											</div>
										</div>
										<div class="form-group row">
											<label for="edit_property_type"
													class="col-sm-3 col-form-label">資產類型</label>
											<div class="col-sm-9">
												<input type="text" class="form-control" id="edit_property_type"
														placeholder="類型" name="edit_property_type" readonly>
											</div>
										</div>
										<div class="form-group row">
											<label for="edit_property_name"
													class="col-sm-3 col-form-label">資產名稱</label>
											<div class="col-sm-9">
												<input type="text" class="form-control" id="edit_property_name"
														placeholder="資產名稱" name="edit_property_name" readonly>
											</div>
										</div>
										<div class="form-group row">
											<label for="edit_property_quantity"
													class="col-sm-3 col-form-label">持有量</label>
											<div class="col-sm-9">
												<input type="text" class="form-control" id="edit_property_quantity"
														placeholder="持有的數量" name="edit_property_quantity">
											</div>
										</div>
										<div class="form-group row">
											<label for="edit_property_description"
													class="col-sm-3 col-form-label">備註</label>
											<div class="col-sm-9">
												<input type="text" class="form-control" id="edit_property_description"
														placeholder="資產的紀錄" name="edit_property_description">
											</div>
										</div>
										<div id="success_edit_message" style="display: none; color: green">更新成功
										</div>
										<div id="fail_edit_message" style="display: none ; color: red"></div>
										<button type="button" class="btn btn-primary me-2" data-type="UPDATE"
												id="updateButton">更新
										</button>
										<button class="btn btn-light">取消</button>
									</form>
								</div>


								<div class="tab-pane fade" id="add_property_tab">
									<form class="forms-sample" id="add_property_form">
										<div class="form-group row">
											<label for="add_property_type"
													class="col-sm-3 col-form-label">資產類型</label>
											<div class="col-sm-9">
												<select class="form-control" id="add_property_type"
														name="add_property_type"></select>
											</div>
										</div>
										<div class="form-group row">
											<label for="add_property_name"
													class="col-sm-3 col-form-label">資產名稱</label>
											<div class="col-sm-9">
												<select class="form-control" id="add_property_name"
														name="add_property_name"></select>
											</div>
										</div>
										<div class="form-group row">
											<label for="add_property_quantity"
													class="col-sm-3 col-form-label">持有量</label>
											<div class="col-sm-9">
												<input type="text" class="form-control" id="add_property_quantity"
														placeholder="持有的數量" name="add_property_quantity">
											</div>
										</div>
										<div class="form-group row">
											<label for="add_property_description"
													class="col-sm-3 col-form-label">備註</label>
											<div class="col-sm-9">
												<input type="text" class="form-control" id="add_property_description"
														placeholder="資產的紀錄" name="add_property_description">
											</div>
										</div>
										<div id="success_add_message" style="display: none; color: green">新增成功</div>
										<div id="fail_add_message" style="display: none; color: red"></div>
										<button type="button" class="btn btn-primary me-2" data-type="ADD"
												id="addButton">新增
										</button>
										<button class="btn btn-light">取消</button>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- content-wrapper ends -->
			<!-- partial:../../partials/_footer.html -->
			<footer class="footer">
				<div class="d-sm-flex justify-content-center justify-content-sm-between">
					<span class="text-muted text-center text-sm-left d-block d-sm-inline-block">Premium <a
							href="https://www.bootstrapdash.com/" target="_blank">Bootstrap admin template</a> from BootstrapDash.</span>
					<span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center">Copyright © 2021. All rights reserved.</span>
				</div>
			</footer>
			<!-- partial -->
		</div>
		<!-- main-panel ends -->
	</div>
	<!-- page-body-wrapper ends -->
</div>

<div id="loading-spinner" class="loading-spinner-container">
	<div id="lds-ring" class="lds-ring">
		<div></div>
		<div></div>
		<div></div>
		<div></div>
	</div>

	<div class="col-md-6 grid-margin stretch-card" id="confirmCard">
		<div class="card">
			<div class="card-body">
				<h4 class="card-title">刪除資產</h4>
				<p class="card-description">
					確認要刪除此資產
				</p>
				<div id="deletePropertySuccess" style="color: green;display: none">刪除成功，即將轉跳資產頁面</div>
				<div id="deletePropertyFail"></div>
				<div>
					<a id="confirmDeleteProperty" class="btn btn-primary me-2">確認</a>
					<a Id="cancelDeleteProperty" class="btn btn-light">取消</a>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- container-scroller -->
<!-- plugins:js -->
<script src="/static/vendors/js/vendor.bundle.base.js"></script>
<!-- endinject -->
<!-- Plugin js for this page -->
<script src="/static/vendors/typeahead.js/typeahead.bundle.min.js"></script>
<script src="/static/vendors/select2/select2.min.js"></script>
<script src="/static/vendors/bootstrap-datepicker/bootstrap-datepicker.min.js"></script>
<!-- End plugin js for this page -->
<!-- inject:js -->
<script src="/static/js/off-canvas.js"></script>
<script src="/static/js/hoverable-collapse.js"></script>
<script src="/static/js/template.js"></script>
<script src="/static/js/settings.js"></script>
<script src="/static/js/todolist.js"></script>
<!-- endinject -->
<!-- Custom js for this page-->
<script src="/static/js/file-upload.js"></script>
<script src="/static/js/typeahead.js"></script>
<script src="/static/js/select2.js"></script>

<!-- End custom js for this page-->

<script>
	document.addEventListener('DOMContentLoaded', function () {
		displayPropertyTable();
		getPropertyType("add_property_type");

		let updateButton = document.getElementById('updateButton');
		let addButton = document.getElementById('addButton');
		if (updateButton) {
			updateButton.addEventListener('click', addOrUpdatePropertyForm);
		}
		if (addButton) {
			addButton.addEventListener('click', addOrUpdatePropertyForm);
		}
	});
	getUserDetails();
	detectionPropertyTypeChange("add_property_name", "add_property_type");
	searchFunction();
</script>

</script>


</body>

</html>
